spring:
  application:
    name: email-template-service
  datasource:
    url: "${DB_URL:jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:ne}?currentSchema=email}"
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:postgres}
  jpa:
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        format_sql: true
        jdbc:
          time_zone: UTC
  flyway:
    enabled: true
    locations: classpath:db/migration/common,classpath:db/migration/{vendor}
  cache:
    type: redis

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus

email:
  kafka-topics:
    email-send: email-send
    email-send-retry: email-send-retry
    email-send-dlq: email-send-dlq
    webhook-events: sendgrid-webhooks
    email-events: email-events
  sendgrid:
    sandbox-mode: false
    timeout: PT30S
    webhook-public-key: ""
    default-from-email: noreply@example.com
    default-from-name: Notification Service
    api-key: changeme
  rate-limit:
    default-limit-per-minute: 300
    burst-multiplier: 2
    window: PT1M
    idempotency-ttl: PT24H
