spring:
  main:
    lazy-initialization: true
  config:
    import:
      - optional:classpath:application-shared-platform-dev.yaml
      - optional:vault://secret/data/setup-service
      - optional:aws-secretsmanager:setup-service/config
  cloud:
    vault:
      enabled: ${VAULT_ENABLED:false}
      uri: ${VAULT_URI:}
      authentication: ${VAULT_AUTH_METHOD:token}
      token: ${VAULT_TOKEN:}
      kv:
        enabled: true
        application-name: setup-service
    aws:
      secretsmanager:
        enabled: ${AWS_SECRETS_MANAGER_ENABLED:false}

app:
  kafka:
    client-id: ejada-setup-dev
  jpa:
    show-sql: true

logging:
  level:
    org.springframework: WARN

shared:
  openapi:
    enabled: true
    title: " Setup Service API"
    description: "Setup service endpoints for tenant/platform configuration."
    version: "1.0.0"
    servers:
      - http://localhost:8080/core
    group:
      name: setup
      packages-to-scan:
        - com.ejada.setup
    jwt-security: false
  crypto:
    algorithm: AES_GCM
    key-provider: ${CRYPTO_KEY_PROVIDER:in-memory}
    in-memory:
      activeKid: ${CRYPTO_ACTIVE_KID:local-dev-key}
      keys:
        ${CRYPTO_ACTIVE_KID:local-dev-key}: ${CRYPTO_LOCAL_DEV_KEY:4J8bfqUaEqzJCQakoJPM3w==}
    vault:
      endpoint: ${VAULT_URI:}
      transitPath: ${VAULT_TRANSIT_PATH:transit}
      keyName: ${VAULT_CRYPTO_KEY_NAME:}
    aws-kms:
      region: ${AWS_KMS_REGION:}
      key-id: ${AWS_KMS_KEY_ID:}
